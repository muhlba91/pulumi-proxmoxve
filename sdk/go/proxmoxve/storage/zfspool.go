// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package storage

import (
	"context"
	"reflect"

	"errors"
	"github.com/muhlba91/pulumi-proxmoxve/sdk/v7/go/proxmoxve/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages ZFS-based storage in Proxmox VE.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/muhlba91/pulumi-proxmoxve/sdk/v7/go/proxmoxve/storage"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := storage.NewZFSPool(ctx, "example", &storage.ZFSPoolArgs{
//				ZfsPoolId: pulumi.String("example-zfs"),
//				Nodes: pulumi.StringArray{
//					pulumi.String("pve"),
//				},
//				ZfsPool: pulumi.String("rpool/data"),
//				Contents: pulumi.StringArray{
//					pulumi.String("images"),
//				},
//				ThinProvision: pulumi.Bool(true),
//				Blocksize:     pulumi.String("64k"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
type ZFSPool struct {
	pulumi.CustomResourceState

	// Block size for newly created volumes (e.g. `4k`, `8k`, `16k`). Larger values may improve throughput for large I/O, while smaller values optimize space efficiency.
	Blocksize pulumi.StringPtrOutput `pulumi:"blocksize"`
	// The content types that can be stored on this storage. Valid values: `backup` (VM backups), `images` (VM disk images), `import` (VM disk images for import), `iso` (ISO images), `rootdir` (container root directories), `snippets` (cloud-init, hook scripts, etc.), `vztmpl` (container templates).
	Contents pulumi.StringArrayOutput `pulumi:"contents"`
	// Whether the storage is disabled.
	Disable pulumi.BoolOutput `pulumi:"disable"`
	// A list of nodes where this storage is available.
	Nodes pulumi.StringArrayOutput `pulumi:"nodes"`
	// Whether the storage is shared across all nodes.
	Shared pulumi.BoolOutput `pulumi:"shared"`
	// Whether to enable thin provisioning (`on` or `off`). Thin provisioning allows flexible disk allocation without pre-allocating full space.
	ThinProvision pulumi.BoolPtrOutput `pulumi:"thinProvision"`
	// The name of the ZFS storage pool to use (e.g. `tank`, `rpool/data`).
	ZfsPool pulumi.StringOutput `pulumi:"zfsPool"`
	// The unique identifier of the storage.
	ZfsPoolId pulumi.StringOutput `pulumi:"zfsPoolId"`
}

// NewZFSPool registers a new resource with the given unique name, arguments, and options.
func NewZFSPool(ctx *pulumi.Context,
	name string, args *ZFSPoolArgs, opts ...pulumi.ResourceOption) (*ZFSPool, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ZfsPool == nil {
		return nil, errors.New("invalid value for required argument 'ZfsPool'")
	}
	if args.ZfsPoolId == nil {
		return nil, errors.New("invalid value for required argument 'ZfsPoolId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ZFSPool
	err := ctx.RegisterResource("proxmoxve:Storage/zFSPool:ZFSPool", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetZFSPool gets an existing ZFSPool resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetZFSPool(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ZFSPoolState, opts ...pulumi.ResourceOption) (*ZFSPool, error) {
	var resource ZFSPool
	err := ctx.ReadResource("proxmoxve:Storage/zFSPool:ZFSPool", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ZFSPool resources.
type zfspoolState struct {
	// Block size for newly created volumes (e.g. `4k`, `8k`, `16k`). Larger values may improve throughput for large I/O, while smaller values optimize space efficiency.
	Blocksize *string `pulumi:"blocksize"`
	// The content types that can be stored on this storage. Valid values: `backup` (VM backups), `images` (VM disk images), `import` (VM disk images for import), `iso` (ISO images), `rootdir` (container root directories), `snippets` (cloud-init, hook scripts, etc.), `vztmpl` (container templates).
	Contents []string `pulumi:"contents"`
	// Whether the storage is disabled.
	Disable *bool `pulumi:"disable"`
	// A list of nodes where this storage is available.
	Nodes []string `pulumi:"nodes"`
	// Whether the storage is shared across all nodes.
	Shared *bool `pulumi:"shared"`
	// Whether to enable thin provisioning (`on` or `off`). Thin provisioning allows flexible disk allocation without pre-allocating full space.
	ThinProvision *bool `pulumi:"thinProvision"`
	// The name of the ZFS storage pool to use (e.g. `tank`, `rpool/data`).
	ZfsPool *string `pulumi:"zfsPool"`
	// The unique identifier of the storage.
	ZfsPoolId *string `pulumi:"zfsPoolId"`
}

type ZFSPoolState struct {
	// Block size for newly created volumes (e.g. `4k`, `8k`, `16k`). Larger values may improve throughput for large I/O, while smaller values optimize space efficiency.
	Blocksize pulumi.StringPtrInput
	// The content types that can be stored on this storage. Valid values: `backup` (VM backups), `images` (VM disk images), `import` (VM disk images for import), `iso` (ISO images), `rootdir` (container root directories), `snippets` (cloud-init, hook scripts, etc.), `vztmpl` (container templates).
	Contents pulumi.StringArrayInput
	// Whether the storage is disabled.
	Disable pulumi.BoolPtrInput
	// A list of nodes where this storage is available.
	Nodes pulumi.StringArrayInput
	// Whether the storage is shared across all nodes.
	Shared pulumi.BoolPtrInput
	// Whether to enable thin provisioning (`on` or `off`). Thin provisioning allows flexible disk allocation without pre-allocating full space.
	ThinProvision pulumi.BoolPtrInput
	// The name of the ZFS storage pool to use (e.g. `tank`, `rpool/data`).
	ZfsPool pulumi.StringPtrInput
	// The unique identifier of the storage.
	ZfsPoolId pulumi.StringPtrInput
}

func (ZFSPoolState) ElementType() reflect.Type {
	return reflect.TypeOf((*zfspoolState)(nil)).Elem()
}

type zfspoolArgs struct {
	// Block size for newly created volumes (e.g. `4k`, `8k`, `16k`). Larger values may improve throughput for large I/O, while smaller values optimize space efficiency.
	Blocksize *string `pulumi:"blocksize"`
	// The content types that can be stored on this storage. Valid values: `backup` (VM backups), `images` (VM disk images), `import` (VM disk images for import), `iso` (ISO images), `rootdir` (container root directories), `snippets` (cloud-init, hook scripts, etc.), `vztmpl` (container templates).
	Contents []string `pulumi:"contents"`
	// Whether the storage is disabled.
	Disable *bool `pulumi:"disable"`
	// A list of nodes where this storage is available.
	Nodes []string `pulumi:"nodes"`
	// Whether to enable thin provisioning (`on` or `off`). Thin provisioning allows flexible disk allocation without pre-allocating full space.
	ThinProvision *bool `pulumi:"thinProvision"`
	// The name of the ZFS storage pool to use (e.g. `tank`, `rpool/data`).
	ZfsPool string `pulumi:"zfsPool"`
	// The unique identifier of the storage.
	ZfsPoolId string `pulumi:"zfsPoolId"`
}

// The set of arguments for constructing a ZFSPool resource.
type ZFSPoolArgs struct {
	// Block size for newly created volumes (e.g. `4k`, `8k`, `16k`). Larger values may improve throughput for large I/O, while smaller values optimize space efficiency.
	Blocksize pulumi.StringPtrInput
	// The content types that can be stored on this storage. Valid values: `backup` (VM backups), `images` (VM disk images), `import` (VM disk images for import), `iso` (ISO images), `rootdir` (container root directories), `snippets` (cloud-init, hook scripts, etc.), `vztmpl` (container templates).
	Contents pulumi.StringArrayInput
	// Whether the storage is disabled.
	Disable pulumi.BoolPtrInput
	// A list of nodes where this storage is available.
	Nodes pulumi.StringArrayInput
	// Whether to enable thin provisioning (`on` or `off`). Thin provisioning allows flexible disk allocation without pre-allocating full space.
	ThinProvision pulumi.BoolPtrInput
	// The name of the ZFS storage pool to use (e.g. `tank`, `rpool/data`).
	ZfsPool pulumi.StringInput
	// The unique identifier of the storage.
	ZfsPoolId pulumi.StringInput
}

func (ZFSPoolArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*zfspoolArgs)(nil)).Elem()
}

type ZFSPoolInput interface {
	pulumi.Input

	ToZFSPoolOutput() ZFSPoolOutput
	ToZFSPoolOutputWithContext(ctx context.Context) ZFSPoolOutput
}

func (*ZFSPool) ElementType() reflect.Type {
	return reflect.TypeOf((**ZFSPool)(nil)).Elem()
}

func (i *ZFSPool) ToZFSPoolOutput() ZFSPoolOutput {
	return i.ToZFSPoolOutputWithContext(context.Background())
}

func (i *ZFSPool) ToZFSPoolOutputWithContext(ctx context.Context) ZFSPoolOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ZFSPoolOutput)
}

// ZFSPoolArrayInput is an input type that accepts ZFSPoolArray and ZFSPoolArrayOutput values.
// You can construct a concrete instance of `ZFSPoolArrayInput` via:
//
//	ZFSPoolArray{ ZFSPoolArgs{...} }
type ZFSPoolArrayInput interface {
	pulumi.Input

	ToZFSPoolArrayOutput() ZFSPoolArrayOutput
	ToZFSPoolArrayOutputWithContext(context.Context) ZFSPoolArrayOutput
}

type ZFSPoolArray []ZFSPoolInput

func (ZFSPoolArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ZFSPool)(nil)).Elem()
}

func (i ZFSPoolArray) ToZFSPoolArrayOutput() ZFSPoolArrayOutput {
	return i.ToZFSPoolArrayOutputWithContext(context.Background())
}

func (i ZFSPoolArray) ToZFSPoolArrayOutputWithContext(ctx context.Context) ZFSPoolArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ZFSPoolArrayOutput)
}

// ZFSPoolMapInput is an input type that accepts ZFSPoolMap and ZFSPoolMapOutput values.
// You can construct a concrete instance of `ZFSPoolMapInput` via:
//
//	ZFSPoolMap{ "key": ZFSPoolArgs{...} }
type ZFSPoolMapInput interface {
	pulumi.Input

	ToZFSPoolMapOutput() ZFSPoolMapOutput
	ToZFSPoolMapOutputWithContext(context.Context) ZFSPoolMapOutput
}

type ZFSPoolMap map[string]ZFSPoolInput

func (ZFSPoolMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ZFSPool)(nil)).Elem()
}

func (i ZFSPoolMap) ToZFSPoolMapOutput() ZFSPoolMapOutput {
	return i.ToZFSPoolMapOutputWithContext(context.Background())
}

func (i ZFSPoolMap) ToZFSPoolMapOutputWithContext(ctx context.Context) ZFSPoolMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ZFSPoolMapOutput)
}

type ZFSPoolOutput struct{ *pulumi.OutputState }

func (ZFSPoolOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ZFSPool)(nil)).Elem()
}

func (o ZFSPoolOutput) ToZFSPoolOutput() ZFSPoolOutput {
	return o
}

func (o ZFSPoolOutput) ToZFSPoolOutputWithContext(ctx context.Context) ZFSPoolOutput {
	return o
}

// Block size for newly created volumes (e.g. `4k`, `8k`, `16k`). Larger values may improve throughput for large I/O, while smaller values optimize space efficiency.
func (o ZFSPoolOutput) Blocksize() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *ZFSPool) pulumi.StringPtrOutput { return v.Blocksize }).(pulumi.StringPtrOutput)
}

// The content types that can be stored on this storage. Valid values: `backup` (VM backups), `images` (VM disk images), `import` (VM disk images for import), `iso` (ISO images), `rootdir` (container root directories), `snippets` (cloud-init, hook scripts, etc.), `vztmpl` (container templates).
func (o ZFSPoolOutput) Contents() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ZFSPool) pulumi.StringArrayOutput { return v.Contents }).(pulumi.StringArrayOutput)
}

// Whether the storage is disabled.
func (o ZFSPoolOutput) Disable() pulumi.BoolOutput {
	return o.ApplyT(func(v *ZFSPool) pulumi.BoolOutput { return v.Disable }).(pulumi.BoolOutput)
}

// A list of nodes where this storage is available.
func (o ZFSPoolOutput) Nodes() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ZFSPool) pulumi.StringArrayOutput { return v.Nodes }).(pulumi.StringArrayOutput)
}

// Whether the storage is shared across all nodes.
func (o ZFSPoolOutput) Shared() pulumi.BoolOutput {
	return o.ApplyT(func(v *ZFSPool) pulumi.BoolOutput { return v.Shared }).(pulumi.BoolOutput)
}

// Whether to enable thin provisioning (`on` or `off`). Thin provisioning allows flexible disk allocation without pre-allocating full space.
func (o ZFSPoolOutput) ThinProvision() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *ZFSPool) pulumi.BoolPtrOutput { return v.ThinProvision }).(pulumi.BoolPtrOutput)
}

// The name of the ZFS storage pool to use (e.g. `tank`, `rpool/data`).
func (o ZFSPoolOutput) ZfsPool() pulumi.StringOutput {
	return o.ApplyT(func(v *ZFSPool) pulumi.StringOutput { return v.ZfsPool }).(pulumi.StringOutput)
}

// The unique identifier of the storage.
func (o ZFSPoolOutput) ZfsPoolId() pulumi.StringOutput {
	return o.ApplyT(func(v *ZFSPool) pulumi.StringOutput { return v.ZfsPoolId }).(pulumi.StringOutput)
}

type ZFSPoolArrayOutput struct{ *pulumi.OutputState }

func (ZFSPoolArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ZFSPool)(nil)).Elem()
}

func (o ZFSPoolArrayOutput) ToZFSPoolArrayOutput() ZFSPoolArrayOutput {
	return o
}

func (o ZFSPoolArrayOutput) ToZFSPoolArrayOutputWithContext(ctx context.Context) ZFSPoolArrayOutput {
	return o
}

func (o ZFSPoolArrayOutput) Index(i pulumi.IntInput) ZFSPoolOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ZFSPool {
		return vs[0].([]*ZFSPool)[vs[1].(int)]
	}).(ZFSPoolOutput)
}

type ZFSPoolMapOutput struct{ *pulumi.OutputState }

func (ZFSPoolMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ZFSPool)(nil)).Elem()
}

func (o ZFSPoolMapOutput) ToZFSPoolMapOutput() ZFSPoolMapOutput {
	return o
}

func (o ZFSPoolMapOutput) ToZFSPoolMapOutputWithContext(ctx context.Context) ZFSPoolMapOutput {
	return o
}

func (o ZFSPoolMapOutput) MapIndex(k pulumi.StringInput) ZFSPoolOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ZFSPool {
		return vs[0].(map[string]*ZFSPool)[vs[1].(string)]
	}).(ZFSPoolOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ZFSPoolInput)(nil)).Elem(), &ZFSPool{})
	pulumi.RegisterInputType(reflect.TypeOf((*ZFSPoolArrayInput)(nil)).Elem(), ZFSPoolArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ZFSPoolMapInput)(nil)).Elem(), ZFSPoolMap{})
	pulumi.RegisterOutputType(ZFSPoolOutput{})
	pulumi.RegisterOutputType(ZFSPoolArrayOutput{})
	pulumi.RegisterOutputType(ZFSPoolMapOutput{})
}
