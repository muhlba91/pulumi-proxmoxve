// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package node

import (
	"context"
	"reflect"

	"errors"
	"github.com/muhlba91/pulumi-proxmoxve/sdk/v7/go/proxmoxve/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages Proxmox VE Node Firewall options.
//
// > This resource in fact updates existing node firewall configuration created by PVE on bootstrap. All optional attributes have explicit defaults for deterministic behavior (PVE may change defaults in the future). See [API documentation](https://pve.proxmox.com/pve-docs/api-viewer/index.html#/nodes/{node}/firewall/options).
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/muhlba91/pulumi-proxmoxve/sdk/v7/go/proxmoxve/node"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			_, err := node.NewFirewall(ctx, "node-pve1", &node.FirewallArgs{
//				NodeName: pulumi.String("pve1"),
//				Enabled:  pulumi.Bool(false),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = node.NewFirewall(ctx, "pve2", &node.FirewallArgs{
//				NodeName:         pulumi.String("pve2"),
//				Enabled:          pulumi.Bool(true),
//				LogLevelIn:       pulumi.String("alert"),
//				LogLevelOut:      pulumi.String("alert"),
//				LogLevelForward:  pulumi.String("alert"),
//				Ndp:              pulumi.Bool(true),
//				Nftables:         pulumi.Bool(true),
//				Nosmurfs:         pulumi.Bool(true),
//				SmurfLogLevel:    pulumi.String("alert"),
//				TcpFlagsLogLevel: pulumi.String("alert"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// ```sh
// $ pulumi import proxmoxve:Node/firewall:Firewall node-pve1 pve1
// ```
type Firewall struct {
	pulumi.CustomResourceState

	// Enable host firewall rules (defaults to `true`).
	Enabled pulumi.BoolOutput `pulumi:"enabled"`
	// Log level for forwarded traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelForward pulumi.StringOutput `pulumi:"logLevelForward"`
	// Log level for incoming traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelIn pulumi.StringOutput `pulumi:"logLevelIn"`
	// Log level for outgoing traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelOut pulumi.StringOutput `pulumi:"logLevelOut"`
	// Enable NDP - Neighbor Discovery Protocol (defaults to `true`).
	Ndp pulumi.BoolOutput `pulumi:"ndp"`
	// Maximum number of tracked connections (defaults to `262144`). Minimum value is `32768`.
	NfConntrackMax pulumi.IntOutput `pulumi:"nfConntrackMax"`
	// Conntrack established timeout in seconds (defaults to `432000` - 5 days). Minimum value is `7875`.
	NfConntrackTcpTimeoutEstablished pulumi.IntOutput `pulumi:"nfConntrackTcpTimeoutEstablished"`
	// Enable nftables based firewall (tech preview, defaults to `false`).
	Nftables pulumi.BoolOutput `pulumi:"nftables"`
	// The cluster node name.
	NodeName pulumi.StringOutput `pulumi:"nodeName"`
	// Enable SMURFS filter (defaults to `true`).
	Nosmurfs pulumi.BoolOutput `pulumi:"nosmurfs"`
	// Log level for SMURFS filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	SmurfLogLevel pulumi.StringOutput `pulumi:"smurfLogLevel"`
	// Log level for illegal tcp flags filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	TcpFlagsLogLevel pulumi.StringOutput `pulumi:"tcpFlagsLogLevel"`
}

// NewFirewall registers a new resource with the given unique name, arguments, and options.
func NewFirewall(ctx *pulumi.Context,
	name string, args *FirewallArgs, opts ...pulumi.ResourceOption) (*Firewall, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.NodeName == nil {
		return nil, errors.New("invalid value for required argument 'NodeName'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource Firewall
	err := ctx.RegisterResource("proxmoxve:Node/firewall:Firewall", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetFirewall gets an existing Firewall resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetFirewall(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *FirewallState, opts ...pulumi.ResourceOption) (*Firewall, error) {
	var resource Firewall
	err := ctx.ReadResource("proxmoxve:Node/firewall:Firewall", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Firewall resources.
type firewallState struct {
	// Enable host firewall rules (defaults to `true`).
	Enabled *bool `pulumi:"enabled"`
	// Log level for forwarded traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelForward *string `pulumi:"logLevelForward"`
	// Log level for incoming traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelIn *string `pulumi:"logLevelIn"`
	// Log level for outgoing traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelOut *string `pulumi:"logLevelOut"`
	// Enable NDP - Neighbor Discovery Protocol (defaults to `true`).
	Ndp *bool `pulumi:"ndp"`
	// Maximum number of tracked connections (defaults to `262144`). Minimum value is `32768`.
	NfConntrackMax *int `pulumi:"nfConntrackMax"`
	// Conntrack established timeout in seconds (defaults to `432000` - 5 days). Minimum value is `7875`.
	NfConntrackTcpTimeoutEstablished *int `pulumi:"nfConntrackTcpTimeoutEstablished"`
	// Enable nftables based firewall (tech preview, defaults to `false`).
	Nftables *bool `pulumi:"nftables"`
	// The cluster node name.
	NodeName *string `pulumi:"nodeName"`
	// Enable SMURFS filter (defaults to `true`).
	Nosmurfs *bool `pulumi:"nosmurfs"`
	// Log level for SMURFS filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	SmurfLogLevel *string `pulumi:"smurfLogLevel"`
	// Log level for illegal tcp flags filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	TcpFlagsLogLevel *string `pulumi:"tcpFlagsLogLevel"`
}

type FirewallState struct {
	// Enable host firewall rules (defaults to `true`).
	Enabled pulumi.BoolPtrInput
	// Log level for forwarded traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelForward pulumi.StringPtrInput
	// Log level for incoming traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelIn pulumi.StringPtrInput
	// Log level for outgoing traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelOut pulumi.StringPtrInput
	// Enable NDP - Neighbor Discovery Protocol (defaults to `true`).
	Ndp pulumi.BoolPtrInput
	// Maximum number of tracked connections (defaults to `262144`). Minimum value is `32768`.
	NfConntrackMax pulumi.IntPtrInput
	// Conntrack established timeout in seconds (defaults to `432000` - 5 days). Minimum value is `7875`.
	NfConntrackTcpTimeoutEstablished pulumi.IntPtrInput
	// Enable nftables based firewall (tech preview, defaults to `false`).
	Nftables pulumi.BoolPtrInput
	// The cluster node name.
	NodeName pulumi.StringPtrInput
	// Enable SMURFS filter (defaults to `true`).
	Nosmurfs pulumi.BoolPtrInput
	// Log level for SMURFS filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	SmurfLogLevel pulumi.StringPtrInput
	// Log level for illegal tcp flags filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	TcpFlagsLogLevel pulumi.StringPtrInput
}

func (FirewallState) ElementType() reflect.Type {
	return reflect.TypeOf((*firewallState)(nil)).Elem()
}

type firewallArgs struct {
	// Enable host firewall rules (defaults to `true`).
	Enabled *bool `pulumi:"enabled"`
	// Log level for forwarded traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelForward *string `pulumi:"logLevelForward"`
	// Log level for incoming traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelIn *string `pulumi:"logLevelIn"`
	// Log level for outgoing traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelOut *string `pulumi:"logLevelOut"`
	// Enable NDP - Neighbor Discovery Protocol (defaults to `true`).
	Ndp *bool `pulumi:"ndp"`
	// Maximum number of tracked connections (defaults to `262144`). Minimum value is `32768`.
	NfConntrackMax *int `pulumi:"nfConntrackMax"`
	// Conntrack established timeout in seconds (defaults to `432000` - 5 days). Minimum value is `7875`.
	NfConntrackTcpTimeoutEstablished *int `pulumi:"nfConntrackTcpTimeoutEstablished"`
	// Enable nftables based firewall (tech preview, defaults to `false`).
	Nftables *bool `pulumi:"nftables"`
	// The cluster node name.
	NodeName string `pulumi:"nodeName"`
	// Enable SMURFS filter (defaults to `true`).
	Nosmurfs *bool `pulumi:"nosmurfs"`
	// Log level for SMURFS filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	SmurfLogLevel *string `pulumi:"smurfLogLevel"`
	// Log level for illegal tcp flags filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	TcpFlagsLogLevel *string `pulumi:"tcpFlagsLogLevel"`
}

// The set of arguments for constructing a Firewall resource.
type FirewallArgs struct {
	// Enable host firewall rules (defaults to `true`).
	Enabled pulumi.BoolPtrInput
	// Log level for forwarded traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelForward pulumi.StringPtrInput
	// Log level for incoming traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelIn pulumi.StringPtrInput
	// Log level for outgoing traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	LogLevelOut pulumi.StringPtrInput
	// Enable NDP - Neighbor Discovery Protocol (defaults to `true`).
	Ndp pulumi.BoolPtrInput
	// Maximum number of tracked connections (defaults to `262144`). Minimum value is `32768`.
	NfConntrackMax pulumi.IntPtrInput
	// Conntrack established timeout in seconds (defaults to `432000` - 5 days). Minimum value is `7875`.
	NfConntrackTcpTimeoutEstablished pulumi.IntPtrInput
	// Enable nftables based firewall (tech preview, defaults to `false`).
	Nftables pulumi.BoolPtrInput
	// The cluster node name.
	NodeName pulumi.StringInput
	// Enable SMURFS filter (defaults to `true`).
	Nosmurfs pulumi.BoolPtrInput
	// Log level for SMURFS filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	SmurfLogLevel pulumi.StringPtrInput
	// Log level for illegal tcp flags filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
	TcpFlagsLogLevel pulumi.StringPtrInput
}

func (FirewallArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*firewallArgs)(nil)).Elem()
}

type FirewallInput interface {
	pulumi.Input

	ToFirewallOutput() FirewallOutput
	ToFirewallOutputWithContext(ctx context.Context) FirewallOutput
}

func (*Firewall) ElementType() reflect.Type {
	return reflect.TypeOf((**Firewall)(nil)).Elem()
}

func (i *Firewall) ToFirewallOutput() FirewallOutput {
	return i.ToFirewallOutputWithContext(context.Background())
}

func (i *Firewall) ToFirewallOutputWithContext(ctx context.Context) FirewallOutput {
	return pulumi.ToOutputWithContext(ctx, i).(FirewallOutput)
}

// FirewallArrayInput is an input type that accepts FirewallArray and FirewallArrayOutput values.
// You can construct a concrete instance of `FirewallArrayInput` via:
//
//	FirewallArray{ FirewallArgs{...} }
type FirewallArrayInput interface {
	pulumi.Input

	ToFirewallArrayOutput() FirewallArrayOutput
	ToFirewallArrayOutputWithContext(context.Context) FirewallArrayOutput
}

type FirewallArray []FirewallInput

func (FirewallArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Firewall)(nil)).Elem()
}

func (i FirewallArray) ToFirewallArrayOutput() FirewallArrayOutput {
	return i.ToFirewallArrayOutputWithContext(context.Background())
}

func (i FirewallArray) ToFirewallArrayOutputWithContext(ctx context.Context) FirewallArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(FirewallArrayOutput)
}

// FirewallMapInput is an input type that accepts FirewallMap and FirewallMapOutput values.
// You can construct a concrete instance of `FirewallMapInput` via:
//
//	FirewallMap{ "key": FirewallArgs{...} }
type FirewallMapInput interface {
	pulumi.Input

	ToFirewallMapOutput() FirewallMapOutput
	ToFirewallMapOutputWithContext(context.Context) FirewallMapOutput
}

type FirewallMap map[string]FirewallInput

func (FirewallMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Firewall)(nil)).Elem()
}

func (i FirewallMap) ToFirewallMapOutput() FirewallMapOutput {
	return i.ToFirewallMapOutputWithContext(context.Background())
}

func (i FirewallMap) ToFirewallMapOutputWithContext(ctx context.Context) FirewallMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(FirewallMapOutput)
}

type FirewallOutput struct{ *pulumi.OutputState }

func (FirewallOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Firewall)(nil)).Elem()
}

func (o FirewallOutput) ToFirewallOutput() FirewallOutput {
	return o
}

func (o FirewallOutput) ToFirewallOutputWithContext(ctx context.Context) FirewallOutput {
	return o
}

// Enable host firewall rules (defaults to `true`).
func (o FirewallOutput) Enabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *Firewall) pulumi.BoolOutput { return v.Enabled }).(pulumi.BoolOutput)
}

// Log level for forwarded traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
func (o FirewallOutput) LogLevelForward() pulumi.StringOutput {
	return o.ApplyT(func(v *Firewall) pulumi.StringOutput { return v.LogLevelForward }).(pulumi.StringOutput)
}

// Log level for incoming traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
func (o FirewallOutput) LogLevelIn() pulumi.StringOutput {
	return o.ApplyT(func(v *Firewall) pulumi.StringOutput { return v.LogLevelIn }).(pulumi.StringOutput)
}

// Log level for outgoing traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
func (o FirewallOutput) LogLevelOut() pulumi.StringOutput {
	return o.ApplyT(func(v *Firewall) pulumi.StringOutput { return v.LogLevelOut }).(pulumi.StringOutput)
}

// Enable NDP - Neighbor Discovery Protocol (defaults to `true`).
func (o FirewallOutput) Ndp() pulumi.BoolOutput {
	return o.ApplyT(func(v *Firewall) pulumi.BoolOutput { return v.Ndp }).(pulumi.BoolOutput)
}

// Maximum number of tracked connections (defaults to `262144`). Minimum value is `32768`.
func (o FirewallOutput) NfConntrackMax() pulumi.IntOutput {
	return o.ApplyT(func(v *Firewall) pulumi.IntOutput { return v.NfConntrackMax }).(pulumi.IntOutput)
}

// Conntrack established timeout in seconds (defaults to `432000` - 5 days). Minimum value is `7875`.
func (o FirewallOutput) NfConntrackTcpTimeoutEstablished() pulumi.IntOutput {
	return o.ApplyT(func(v *Firewall) pulumi.IntOutput { return v.NfConntrackTcpTimeoutEstablished }).(pulumi.IntOutput)
}

// Enable nftables based firewall (tech preview, defaults to `false`).
func (o FirewallOutput) Nftables() pulumi.BoolOutput {
	return o.ApplyT(func(v *Firewall) pulumi.BoolOutput { return v.Nftables }).(pulumi.BoolOutput)
}

// The cluster node name.
func (o FirewallOutput) NodeName() pulumi.StringOutput {
	return o.ApplyT(func(v *Firewall) pulumi.StringOutput { return v.NodeName }).(pulumi.StringOutput)
}

// Enable SMURFS filter (defaults to `true`).
func (o FirewallOutput) Nosmurfs() pulumi.BoolOutput {
	return o.ApplyT(func(v *Firewall) pulumi.BoolOutput { return v.Nosmurfs }).(pulumi.BoolOutput)
}

// Log level for SMURFS filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
func (o FirewallOutput) SmurfLogLevel() pulumi.StringOutput {
	return o.ApplyT(func(v *Firewall) pulumi.StringOutput { return v.SmurfLogLevel }).(pulumi.StringOutput)
}

// Log level for illegal tcp flags filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
func (o FirewallOutput) TcpFlagsLogLevel() pulumi.StringOutput {
	return o.ApplyT(func(v *Firewall) pulumi.StringOutput { return v.TcpFlagsLogLevel }).(pulumi.StringOutput)
}

type FirewallArrayOutput struct{ *pulumi.OutputState }

func (FirewallArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*Firewall)(nil)).Elem()
}

func (o FirewallArrayOutput) ToFirewallArrayOutput() FirewallArrayOutput {
	return o
}

func (o FirewallArrayOutput) ToFirewallArrayOutputWithContext(ctx context.Context) FirewallArrayOutput {
	return o
}

func (o FirewallArrayOutput) Index(i pulumi.IntInput) FirewallOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *Firewall {
		return vs[0].([]*Firewall)[vs[1].(int)]
	}).(FirewallOutput)
}

type FirewallMapOutput struct{ *pulumi.OutputState }

func (FirewallMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*Firewall)(nil)).Elem()
}

func (o FirewallMapOutput) ToFirewallMapOutput() FirewallMapOutput {
	return o
}

func (o FirewallMapOutput) ToFirewallMapOutputWithContext(ctx context.Context) FirewallMapOutput {
	return o
}

func (o FirewallMapOutput) MapIndex(k pulumi.StringInput) FirewallOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *Firewall {
		return vs[0].(map[string]*Firewall)[vs[1].(string)]
	}).(FirewallOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*FirewallInput)(nil)).Elem(), &Firewall{})
	pulumi.RegisterInputType(reflect.TypeOf((*FirewallArrayInput)(nil)).Elem(), FirewallArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*FirewallMapInput)(nil)).Elem(), FirewallMap{})
	pulumi.RegisterOutputType(FirewallOutput{})
	pulumi.RegisterOutputType(FirewallArrayOutput{})
	pulumi.RegisterOutputType(FirewallMapOutput{})
}
