// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "../utilities";

/**
 * Manages Proxmox VE Node Firewall options.
 *
 * > This resource in fact updates existing node firewall configuration created by PVE on bootstrap. All optional attributes have explicit defaults for deterministic behavior (PVE may change defaults in the future). See [API documentation](https://pve.proxmox.com/pve-docs/api-viewer/index.html#/nodes/{node}/firewall/options).
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as proxmoxve from "@muhlba91/pulumi-proxmoxve";
 *
 * const node_pve1 = new proxmoxve.node.Firewall("node-pve1", {
 *     nodeName: "pve1",
 *     enabled: false,
 * });
 * const pve2 = new proxmoxve.node.Firewall("pve2", {
 *     nodeName: "pve2",
 *     enabled: true,
 *     logLevelIn: "alert",
 *     logLevelOut: "alert",
 *     logLevelForward: "alert",
 *     ndp: true,
 *     nftables: true,
 *     nosmurfs: true,
 *     smurfLogLevel: "alert",
 *     tcpFlagsLogLevel: "alert",
 * });
 * ```
 *
 * ## Import
 *
 * ```sh
 * $ pulumi import proxmoxve:Node/firewall:Firewall node-pve1 pve1
 * ```
 */
export class Firewall extends pulumi.CustomResource {
    /**
     * Get an existing Firewall resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: FirewallState, opts?: pulumi.CustomResourceOptions): Firewall {
        return new Firewall(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'proxmoxve:Node/firewall:Firewall';

    /**
     * Returns true if the given object is an instance of Firewall.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Firewall {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Firewall.__pulumiType;
    }

    /**
     * Enable host firewall rules (defaults to `true`).
     */
    declare public readonly enabled: pulumi.Output<boolean>;
    /**
     * Log level for forwarded traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    declare public readonly logLevelForward: pulumi.Output<string>;
    /**
     * Log level for incoming traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    declare public readonly logLevelIn: pulumi.Output<string>;
    /**
     * Log level for outgoing traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    declare public readonly logLevelOut: pulumi.Output<string>;
    /**
     * Enable NDP - Neighbor Discovery Protocol (defaults to `true`).
     */
    declare public readonly ndp: pulumi.Output<boolean>;
    /**
     * Maximum number of tracked connections (defaults to `262144`). Minimum value is `32768`.
     */
    declare public readonly nfConntrackMax: pulumi.Output<number>;
    /**
     * Conntrack established timeout in seconds (defaults to `432000` - 5 days). Minimum value is `7875`.
     */
    declare public readonly nfConntrackTcpTimeoutEstablished: pulumi.Output<number>;
    /**
     * Enable nftables based firewall (tech preview, defaults to `false`).
     */
    declare public readonly nftables: pulumi.Output<boolean>;
    /**
     * The cluster node name.
     */
    declare public readonly nodeName: pulumi.Output<string>;
    /**
     * Enable SMURFS filter (defaults to `true`).
     */
    declare public readonly nosmurfs: pulumi.Output<boolean>;
    /**
     * Log level for SMURFS filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    declare public readonly smurfLogLevel: pulumi.Output<string>;
    /**
     * Log level for illegal tcp flags filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    declare public readonly tcpFlagsLogLevel: pulumi.Output<string>;

    /**
     * Create a Firewall resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: FirewallArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: FirewallArgs | FirewallState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as FirewallState | undefined;
            resourceInputs["enabled"] = state?.enabled;
            resourceInputs["logLevelForward"] = state?.logLevelForward;
            resourceInputs["logLevelIn"] = state?.logLevelIn;
            resourceInputs["logLevelOut"] = state?.logLevelOut;
            resourceInputs["ndp"] = state?.ndp;
            resourceInputs["nfConntrackMax"] = state?.nfConntrackMax;
            resourceInputs["nfConntrackTcpTimeoutEstablished"] = state?.nfConntrackTcpTimeoutEstablished;
            resourceInputs["nftables"] = state?.nftables;
            resourceInputs["nodeName"] = state?.nodeName;
            resourceInputs["nosmurfs"] = state?.nosmurfs;
            resourceInputs["smurfLogLevel"] = state?.smurfLogLevel;
            resourceInputs["tcpFlagsLogLevel"] = state?.tcpFlagsLogLevel;
        } else {
            const args = argsOrState as FirewallArgs | undefined;
            if (args?.nodeName === undefined && !opts.urn) {
                throw new Error("Missing required property 'nodeName'");
            }
            resourceInputs["enabled"] = args?.enabled;
            resourceInputs["logLevelForward"] = args?.logLevelForward;
            resourceInputs["logLevelIn"] = args?.logLevelIn;
            resourceInputs["logLevelOut"] = args?.logLevelOut;
            resourceInputs["ndp"] = args?.ndp;
            resourceInputs["nfConntrackMax"] = args?.nfConntrackMax;
            resourceInputs["nfConntrackTcpTimeoutEstablished"] = args?.nfConntrackTcpTimeoutEstablished;
            resourceInputs["nftables"] = args?.nftables;
            resourceInputs["nodeName"] = args?.nodeName;
            resourceInputs["nosmurfs"] = args?.nosmurfs;
            resourceInputs["smurfLogLevel"] = args?.smurfLogLevel;
            resourceInputs["tcpFlagsLogLevel"] = args?.tcpFlagsLogLevel;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(Firewall.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Firewall resources.
 */
export interface FirewallState {
    /**
     * Enable host firewall rules (defaults to `true`).
     */
    enabled?: pulumi.Input<boolean>;
    /**
     * Log level for forwarded traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    logLevelForward?: pulumi.Input<string>;
    /**
     * Log level for incoming traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    logLevelIn?: pulumi.Input<string>;
    /**
     * Log level for outgoing traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    logLevelOut?: pulumi.Input<string>;
    /**
     * Enable NDP - Neighbor Discovery Protocol (defaults to `true`).
     */
    ndp?: pulumi.Input<boolean>;
    /**
     * Maximum number of tracked connections (defaults to `262144`). Minimum value is `32768`.
     */
    nfConntrackMax?: pulumi.Input<number>;
    /**
     * Conntrack established timeout in seconds (defaults to `432000` - 5 days). Minimum value is `7875`.
     */
    nfConntrackTcpTimeoutEstablished?: pulumi.Input<number>;
    /**
     * Enable nftables based firewall (tech preview, defaults to `false`).
     */
    nftables?: pulumi.Input<boolean>;
    /**
     * The cluster node name.
     */
    nodeName?: pulumi.Input<string>;
    /**
     * Enable SMURFS filter (defaults to `true`).
     */
    nosmurfs?: pulumi.Input<boolean>;
    /**
     * Log level for SMURFS filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    smurfLogLevel?: pulumi.Input<string>;
    /**
     * Log level for illegal tcp flags filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    tcpFlagsLogLevel?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a Firewall resource.
 */
export interface FirewallArgs {
    /**
     * Enable host firewall rules (defaults to `true`).
     */
    enabled?: pulumi.Input<boolean>;
    /**
     * Log level for forwarded traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    logLevelForward?: pulumi.Input<string>;
    /**
     * Log level for incoming traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    logLevelIn?: pulumi.Input<string>;
    /**
     * Log level for outgoing traffic. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    logLevelOut?: pulumi.Input<string>;
    /**
     * Enable NDP - Neighbor Discovery Protocol (defaults to `true`).
     */
    ndp?: pulumi.Input<boolean>;
    /**
     * Maximum number of tracked connections (defaults to `262144`). Minimum value is `32768`.
     */
    nfConntrackMax?: pulumi.Input<number>;
    /**
     * Conntrack established timeout in seconds (defaults to `432000` - 5 days). Minimum value is `7875`.
     */
    nfConntrackTcpTimeoutEstablished?: pulumi.Input<number>;
    /**
     * Enable nftables based firewall (tech preview, defaults to `false`).
     */
    nftables?: pulumi.Input<boolean>;
    /**
     * The cluster node name.
     */
    nodeName: pulumi.Input<string>;
    /**
     * Enable SMURFS filter (defaults to `true`).
     */
    nosmurfs?: pulumi.Input<boolean>;
    /**
     * Log level for SMURFS filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    smurfLogLevel?: pulumi.Input<string>;
    /**
     * Log level for illegal tcp flags filter. Must be one of: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`, `nolog` (defaults to `nolog`).
     */
    tcpFlagsLogLevel?: pulumi.Input<string>;
}
