// *** WARNING: this file was generated by pulumi-language-nodejs. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

import * as pulumi from "@pulumi/pulumi";
import * as utilities from "../utilities";

/**
 * QinQ Zone in Proxmox SDN. QinQ also known as VLAN stacking, that uses multiple layers of VLAN tags for isolation. The QinQ zone defines the outer VLAN tag (the Service VLAN) whereas the inner VLAN tag is defined by the VNet. Your physical network switches must support stacked VLANs for this configuration. Due to the double stacking of tags, you need 4 more bytes for QinQ VLANs. For example, you must reduce the MTU to 1496 if you physical interface MTU is 1500.
 *
 * ## Example Usage
 *
 * ```typescript
 * import * as pulumi from "@pulumi/pulumi";
 * import * as proxmoxve from "@muhlba91/pulumi-proxmoxve";
 *
 * const example = new proxmoxve.sdnzone.Qinq("example", {
 *     zoneId: "qinq1",
 *     bridge: "vmbr0",
 *     serviceVlan: 100,
 *     serviceVlanProtocol: "802.1ad",
 *     mtu: 1496,
 *     dns: "1.1.1.1",
 *     dnsZone: "example.com",
 *     ipam: "pve",
 *     reverseDns: "1.1.1.1",
 * });
 * ```
 *
 * ## Import
 *
 * #!/usr/bin/env sh
 *
 * QinQ SDN zone can be imported using its unique identifier (zone ID)
 *
 * ```sh
 * $ pulumi import proxmoxve:SDNZone/qinq:Qinq example qinq1
 * ```
 */
export class Qinq extends pulumi.CustomResource {
    /**
     * Get an existing Qinq resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state Any extra arguments used during the lookup.
     * @param opts Optional settings to control the behavior of the CustomResource.
     */
    public static get(name: string, id: pulumi.Input<pulumi.ID>, state?: QinqState, opts?: pulumi.CustomResourceOptions): Qinq {
        return new Qinq(name, <any>state, { ...opts, id: id });
    }

    /** @internal */
    public static readonly __pulumiType = 'proxmoxve:SDNZone/qinq:Qinq';

    /**
     * Returns true if the given object is an instance of Qinq.  This is designed to work even
     * when multiple copies of the Pulumi SDK have been loaded into the same process.
     */
    public static isInstance(obj: any): obj is Qinq {
        if (obj === undefined || obj === null) {
            return false;
        }
        return obj['__pulumiType'] === Qinq.__pulumiType;
    }

    /**
     * A local, VLAN-aware bridge that is already configured on each local node
     */
    declare public readonly bridge: pulumi.Output<string>;
    /**
     * DNS API server address.
     */
    declare public readonly dns: pulumi.Output<string | undefined>;
    /**
     * DNS domain name. Used to register hostnames, such as `<hostname>.<domain>`. The DNS zone must already exist on the DNS server.
     */
    declare public readonly dnsZone: pulumi.Output<string | undefined>;
    /**
     * IP Address Management system.
     */
    declare public readonly ipam: pulumi.Output<string | undefined>;
    /**
     * MTU value for the zone. There is no support to reset this value back to PVE default once set due to API limitation.
     */
    declare public readonly mtu: pulumi.Output<number>;
    /**
     * The Proxmox nodes which the zone and associated VNets should be deployed on
     */
    declare public readonly nodes: pulumi.Output<string[]>;
    /**
     * Indicates if the zone has pending configuration changes that need to be applied.
     */
    declare public /*out*/ readonly pending: pulumi.Output<boolean>;
    /**
     * Reverse DNS API server address.
     */
    declare public readonly reverseDns: pulumi.Output<string | undefined>;
    /**
     * Service VLAN tag for QinQ. The tag must be between `1` and `4094`.
     */
    declare public readonly serviceVlan: pulumi.Output<number>;
    /**
     * Service VLAN protocol for QinQ. The protocol must be `802.1ad` or `802.1q`.
     */
    declare public readonly serviceVlanProtocol: pulumi.Output<string>;
    /**
     * Indicates the current state of the zone.
     */
    declare public /*out*/ readonly state: pulumi.Output<string>;
    /**
     * The unique identifier of the SDN zone.
     */
    declare public readonly zoneId: pulumi.Output<string>;

    /**
     * Create a Qinq resource with the given unique name, arguments, and options.
     *
     * @param name The _unique_ name of the resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param opts A bag of options that control this resource's behavior.
     */
    constructor(name: string, args: QinqArgs, opts?: pulumi.CustomResourceOptions)
    constructor(name: string, argsOrState?: QinqArgs | QinqState, opts?: pulumi.CustomResourceOptions) {
        let resourceInputs: pulumi.Inputs = {};
        opts = opts || {};
        if (opts.id) {
            const state = argsOrState as QinqState | undefined;
            resourceInputs["bridge"] = state?.bridge;
            resourceInputs["dns"] = state?.dns;
            resourceInputs["dnsZone"] = state?.dnsZone;
            resourceInputs["ipam"] = state?.ipam;
            resourceInputs["mtu"] = state?.mtu;
            resourceInputs["nodes"] = state?.nodes;
            resourceInputs["pending"] = state?.pending;
            resourceInputs["reverseDns"] = state?.reverseDns;
            resourceInputs["serviceVlan"] = state?.serviceVlan;
            resourceInputs["serviceVlanProtocol"] = state?.serviceVlanProtocol;
            resourceInputs["state"] = state?.state;
            resourceInputs["zoneId"] = state?.zoneId;
        } else {
            const args = argsOrState as QinqArgs | undefined;
            if (args?.bridge === undefined && !opts.urn) {
                throw new Error("Missing required property 'bridge'");
            }
            if (args?.serviceVlan === undefined && !opts.urn) {
                throw new Error("Missing required property 'serviceVlan'");
            }
            if (args?.zoneId === undefined && !opts.urn) {
                throw new Error("Missing required property 'zoneId'");
            }
            resourceInputs["bridge"] = args?.bridge;
            resourceInputs["dns"] = args?.dns;
            resourceInputs["dnsZone"] = args?.dnsZone;
            resourceInputs["ipam"] = args?.ipam;
            resourceInputs["mtu"] = args?.mtu;
            resourceInputs["nodes"] = args?.nodes;
            resourceInputs["reverseDns"] = args?.reverseDns;
            resourceInputs["serviceVlan"] = args?.serviceVlan;
            resourceInputs["serviceVlanProtocol"] = args?.serviceVlanProtocol;
            resourceInputs["zoneId"] = args?.zoneId;
            resourceInputs["pending"] = undefined /*out*/;
            resourceInputs["state"] = undefined /*out*/;
        }
        opts = pulumi.mergeOptions(utilities.resourceOptsDefaults(), opts);
        super(Qinq.__pulumiType, name, resourceInputs, opts);
    }
}

/**
 * Input properties used for looking up and filtering Qinq resources.
 */
export interface QinqState {
    /**
     * A local, VLAN-aware bridge that is already configured on each local node
     */
    bridge?: pulumi.Input<string>;
    /**
     * DNS API server address.
     */
    dns?: pulumi.Input<string>;
    /**
     * DNS domain name. Used to register hostnames, such as `<hostname>.<domain>`. The DNS zone must already exist on the DNS server.
     */
    dnsZone?: pulumi.Input<string>;
    /**
     * IP Address Management system.
     */
    ipam?: pulumi.Input<string>;
    /**
     * MTU value for the zone. There is no support to reset this value back to PVE default once set due to API limitation.
     */
    mtu?: pulumi.Input<number>;
    /**
     * The Proxmox nodes which the zone and associated VNets should be deployed on
     */
    nodes?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Indicates if the zone has pending configuration changes that need to be applied.
     */
    pending?: pulumi.Input<boolean>;
    /**
     * Reverse DNS API server address.
     */
    reverseDns?: pulumi.Input<string>;
    /**
     * Service VLAN tag for QinQ. The tag must be between `1` and `4094`.
     */
    serviceVlan?: pulumi.Input<number>;
    /**
     * Service VLAN protocol for QinQ. The protocol must be `802.1ad` or `802.1q`.
     */
    serviceVlanProtocol?: pulumi.Input<string>;
    /**
     * Indicates the current state of the zone.
     */
    state?: pulumi.Input<string>;
    /**
     * The unique identifier of the SDN zone.
     */
    zoneId?: pulumi.Input<string>;
}

/**
 * The set of arguments for constructing a Qinq resource.
 */
export interface QinqArgs {
    /**
     * A local, VLAN-aware bridge that is already configured on each local node
     */
    bridge: pulumi.Input<string>;
    /**
     * DNS API server address.
     */
    dns?: pulumi.Input<string>;
    /**
     * DNS domain name. Used to register hostnames, such as `<hostname>.<domain>`. The DNS zone must already exist on the DNS server.
     */
    dnsZone?: pulumi.Input<string>;
    /**
     * IP Address Management system.
     */
    ipam?: pulumi.Input<string>;
    /**
     * MTU value for the zone. There is no support to reset this value back to PVE default once set due to API limitation.
     */
    mtu?: pulumi.Input<number>;
    /**
     * The Proxmox nodes which the zone and associated VNets should be deployed on
     */
    nodes?: pulumi.Input<pulumi.Input<string>[]>;
    /**
     * Reverse DNS API server address.
     */
    reverseDns?: pulumi.Input<string>;
    /**
     * Service VLAN tag for QinQ. The tag must be between `1` and `4094`.
     */
    serviceVlan: pulumi.Input<number>;
    /**
     * Service VLAN protocol for QinQ. The protocol must be `802.1ad` or `802.1q`.
     */
    serviceVlanProtocol?: pulumi.Input<string>;
    /**
     * The unique identifier of the SDN zone.
     */
    zoneId: pulumi.Input<string>;
}
